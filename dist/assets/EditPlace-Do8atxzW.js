import{b as f,i as y,c as h,r as p,j as t}from"./index-Ck-Mt8Ar.js";import{F as x}from"./Form-B5_Pg06Q.js";import{u as R}from"./useAPIRequest-L68Cn4s7.js";import"./Button-CP-ZmVZW.js";const T=()=>{var o,c,l;const n=f(),{placeId:s}=y(),{data:u}=h(i=>i.auth),{data:e,MakeRequest:a}=R(),r=p.useCallback(async()=>{s&&await a(`http://localhost:3000/api/places/${s}`,{method:"GET"})},[a,s]);p.useEffect(()=>{r()},[r]);const d={title:{value:((o=e==null?void 0:e.place)==null?void 0:o.title)??"",isValid:!0,isClicked:!1,validators:[{type:"REQUIRED"}],errorMessages:[],fieldType:"input",inputType:"text"},description:{value:((c=e==null?void 0:e.place)==null?void 0:c.description)??"",isValid:!0,isClicked:!1,validators:[{type:"REQUIRED"},{type:"MINCHARS",customiser:5}],errorMessages:[],fieldType:"textarea"},address:{value:((l=e==null?void 0:e.place)==null?void 0:l.address)??"",isValid:!0,isClicked:!1,validators:[{type:"REQUIRED"}],errorMessages:[],fieldType:"input",inputType:"text"},isValid:!0},m=()=>{n(-1)},E=async i=>{a(`http://localhost:3000/api/places/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer "+u.token},body:JSON.stringify({...i})},m)};return t.jsx(t.Fragment,{children:e?t.jsx(x,{initialForm:d,submitAction:E,submitText:"Edit place"}):t.jsx(t.Fragment,{})})},C=()=>t.jsx("section",{children:t.jsx(T,{})});export{C as default};
