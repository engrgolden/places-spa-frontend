import{r as o,u as l,s as c,h as w}from"./index-Ck-Mt8Ar.js";const u=()=>{const[i,g]=o.useState(null),a=l(),h=o.useCallback(async(m,t,n)=>{a(c({name:"loading"}));try{const s=t.body instanceof FormData?Object.fromEntries(Object.entries(t.headers||{}).filter(([f])=>f.toLowerCase()!=="content-type")):t.headers,r=await fetch(m,{...t,headers:s}),e=await r.json();if(!r.ok&&e)throw new Error(typeof e=="object"&&"message"in e&&typeof e.message=="string"?e.message:"Something went wrong, please try again later.");a(w()),g(e),n&&n(e)}catch(s){const r=s instanceof Error?s.message:"Something went wrong, please try again later.";a(c({name:"error",data:{errorMessage:r}}))}},[a]);return{data:i,MakeRequest:h}};export{u};
