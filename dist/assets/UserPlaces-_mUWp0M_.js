import{j as e,u as j,b as f,c as p,s as m,r as h,i as b,k as E,L as N}from"./index-Ck-Mt8Ar.js";import{B as d}from"./Button-CP-ZmVZW.js";import{I as u}from"./Information-C054NDRt.js";const w=({name:s,address:r,description:c,imageUrl:a})=>e.jsxs("section",{className:`border-b border-black\r
`,children:[e.jsx("section",{className:"w-full h-64 ",children:e.jsx("img",{className:"w-full h-full object-cover object-[50%_30%]",src:a,alt:`Picture of ${s}'`})}),e.jsxs("section",{className:"flex flex-col items-center py-2",children:[e.jsx("h1",{className:"font-bold 2xs:text-2xl text-sm text-center",children:s}),e.jsx("h2",{className:"font-bold 2xs:text-lg text-xs text-center",children:r}),e.jsx("p",{className:"2xs:text-sm text-xs text-center",children:c})]})]}),y=({name:s,coordinates:r,placeId:c,creatorId:a})=>{const n=j(),i=f(),{data:o}=p(g=>g.auth),l=()=>{n(m({name:"placeMap",data:{name:s,apiKey:"AIzaSyD2TVnDgyhejEf1G3DaK8e3z-yYOs-mC4c",coordinates:r}}))},x=()=>{i(`/${c}/edit`)},t=()=>{n(m({name:"delete",data:{id:c}}))};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"flex justify-center items-center gap-2 p-4",children:[e.jsx(d,{customStyle:"border text-red-500 border-red-500 bg-white text-red-700 ",onClick:l,text:"VIEW MAP"}),(o==null?void 0:o.id)===a?e.jsxs(e.Fragment,{children:[e.jsx(d,{customStyle:"text-white bg-red-500",onClick:x,text:"EDIT"}),e.jsx(d,{customStyle:"text-white bg-red-800",onClick:t,text:"DELETE"})]}):null]})})},v=({placeData:s})=>e.jsxs("div",{className:" w-[98vw] max-w-96 bg-white  flex flex-col rounded-md overflow-hidden",children:[e.jsx(w,{name:s.title,address:s.address,description:s.description,imageUrl:s.imageUrl}),e.jsx(y,{name:s.title,placeId:s.id,creatorId:s.creatorId,coordinates:s.coordinates})]}),S=()=>{const s=f(),r=j(),[c,a]=h.useState(1),{id:n}=b(),{places:i,loading:o,error:l}=p(t=>t.places);return h.useEffect(()=>{n&&r(E(n))},[r,n,c]),o?e.jsx(N,{}):l==="empty"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8"}),e.jsx(u,{text:"This user has not created a place!",needsCancel:!1,isError:!0,proceed:"Go Back",proceedHandler:()=>s("/")})]}):l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8"}),e.jsx(u,{text:l,needsCancel:!1,isError:!0,proceed:"REFRESH",proceedHandler:()=>a(t=>t+1)})]}):e.jsx("section",{className:"my-4 flex flex-col gap-4 items-center",children:i.map(t=>e.jsx(v,{placeData:t},t.id))})};export{S as default};
