import{b as r,u as p,j as t,l as u}from"./index-Ck-Mt8Ar.js";import{B as m}from"./Button-CP-ZmVZW.js";import{F as c}from"./Form-B5_Pg06Q.js";import{u as d}from"./useAPIRequest-L68Cn4s7.js";const g={email:{value:"",isValid:!1,isClicked:!1,validators:[{type:"EMAIL"},{type:"MINCHARS",customiser:3}],errorMessages:[],fieldType:"input",inputType:"text"},password:{value:"",isValid:!1,isClicked:!1,validators:[{type:"REQUIRED"},{type:"MINCHARS",customiser:8}],errorMessages:[],fieldType:"input",inputType:"text"},isValid:!1},f=()=>{const{MakeRequest:s}=d(),i=r(),o=p(),n=e=>{o(u({data:e})),i("/")},l=async e=>{s("http://localhost:3000/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e})},n)};return t.jsx(c,{initialForm:g,submitAction:l,submitText:"Login"})},y={name:{value:"",isValid:!0,isClicked:!0,validators:[{type:"REQUIRED"}],errorMessages:[],fieldType:"input",inputType:"text"},email:{value:"",isValid:!1,isClicked:!1,validators:[{type:"EMAIL"},{type:"MINCHARS",customiser:3}],errorMessages:[],fieldType:"input",inputType:"text"},password:{value:"",isValid:!1,isClicked:!1,validators:[{type:"REQUIRED"},{type:"MINCHARS",customiser:8}],errorMessages:[],fieldType:"input",inputType:"password"},image:{value:null,isValid:!1,isClicked:!1,validators:[{type:"REQUIREDFILE"},{type:"MAXSIZEFILE",customiser:500*1024}],errorMessages:[],fieldType:"input",inputType:"file"},isValid:!1},x=()=>{const s=r(),i=p(),{MakeRequest:o}=d(),n=e=>{i(u({data:e})),s("/")},l=async e=>{const a=new FormData;a.append("email",e.email),a.append("name",e.name),a.append("password",e.password),a.append("image",e.image),o("http://localhost:3000/api/users/register",{method:"POST",body:a},n)};return t.jsx(c,{initialForm:y,submitAction:l,submitText:"Register"})},M=({type:s})=>{const i=r();return t.jsxs("div",{className:"mt-20 bg-white w-10/12 mx-auto rounded-lg shadow flex flex-col",children:[s==="login"?t.jsx(f,{}):t.jsx(x,{}),t.jsxs("div",{className:"self-end  flex items-center gap-4 m-4 text-xs",children:[t.jsx("p",{children:s==="login"?"Don't have an account?":"Already have an account?"}),t.jsx(m,{text:s==="login"?"Register":"Login",customStyle:"p-1 bg-green-600 text-white font-bold",onClick:()=>i(s==="login"?"/register":"/login")})]})]})};export{M as default};
